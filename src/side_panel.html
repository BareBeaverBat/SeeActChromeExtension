<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SeeAct Chrome Agent</title>
<!--    todo explore how this styling looks on different screen resolutions than my laptop's-->
    <style>
        #task-spec {
            width: 100%;
            height: 7vh;
            font-size: 12px;
            border-color: #5dff55;
            resize: vertical;
        }

        #start-task-icon {
            width: 33px;
            height: 31px;
        }

        #start-agent {
            background-color: #5dff55;
        }

        #terminate-task-icon {
            width: 31px;
            height: 31px;
        }

        #end-task {
            background-color: #a727ff;
            color: lightblue;
        }

        label {
            font-size: 20px;
        }

        hr {
            border: none;
            border-top: 1px solid #333; /* Set the top border to be a solid line */
            color: #333; /* Set the color of the line */
            background-color: #333; /* Set the background color of the line */
            height: 1px; /* Set the height of the line */
            width: 100%; /* Set the width of the line */
        }

        #history {
            height: 45vh; /*history view should take up a plurality of the side panel's space*/
            border: 2px saddlebrown solid;
            overflow-y: auto;
            padding-left: 15px;
        }

        #history-label {
            color: saddlebrown;
            text-align: center;
            display: block;
        }

        #history li {
            border: 1px saddlebrown dotted;
            margin: 5px;
            padding: 5px;
            font-size: 14px;
        }

        #history li.task_start {
            background-color: #5dff55;
        }

        #history li.task_end {
            background-color: #a727ff;
        }

        #status-update-container {
            display: flex;
            align-items: center;
            justify-items: left;
            height: 50px;
            overflow-y: auto;
        }

        #status-icon {
            margin-right: 4px;
            width: 30px;
            height: 33px;
        }

        #status-details-tooltip {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            color: black;
            border-radius: 6px;
            padding: 5px;
            width: 100%;
            box-sizing: border-box;
            overflow-y: auto;
        }

        /*otherwise the planning output in the details popup has way too many blank lines/vertical whitespace*/
        #status-details-tooltip {
            & p, & li, & ul, & ol, & h1, & h2, & h3, & h4, & h5 {
                margin-top: 0;
                margin-bottom: 0;
            }
        }

        #pending-action-heading_container {
            display: flex;
            align-items: center;
        }

        #pending-action-heading_container img {
            width: 53px;
            height: 40px;
        }

        #pending-action-heading {
            color: blue;
            background-color: #ffef05;
        }

        #pending-action {
            margin-top: 2px;
            border: 2px #ffef05 solid;
            width: 100%;
            height: 10vh;
            font-size: 16px;
            overflow-y: auto;
        }

        #monitor-mode-heading {
            font-size: 25px;
            text-align: center;
        }

        #monitor-approve-icon {
            width: 20px;
            height: 25px;
        }

        #monitor-reject-icon {
            width: 20px;
            height: 25px;
        }

        #monitor-feedback {
            width: 100%;
            height: 7vh;
            font-size: 12px;
            margin-bottom: 2px;
            resize: vertical;
        }

        .buttons_row_container {
            display: flex;
            justify-content: space-evenly;
        }

        .icon_button_container {
            display: flex;
            flex-direction: row;
            align-items: center; /*to vertically align the icon and button nicely alongside each other*/
        }

        .icon_button_container img {
            margin-right: 3px;
        }

        #open-options-icon {
            width: 29px;
            height: 29px;
        }

        #export-unaffiliated-logs-icon {
            width: 24px;
            height: 30px;
        }
    </style>
</head>
<body>
<label id="task-spec-label" for="task-spec"
       title="the task should be completable when starting from the website which is loaded in the current tab">
    Agent Task Specification</label>
<br>
<textarea id="task-spec">Enter a task specification for the SeeAct agent</textarea>

<div class="buttons_row_container">
    <div class="icon_button_container">
        <img src="../images/task_start_icon.webp" alt="start task button's icon" id="start-task-icon">
        <button id="start-agent">Start Agent</button>
    </div>
    <div class="icon_button_container">
        <img src="../images/task_kill_icon.webp" alt="terminate task button's icon" id="terminate-task-icon">
        <button disabled id="end-task">Terminate Task</button>
    </div>
</div>
<hr>
<div id="history-container">
    <label id="history-label" for="history">Actions History</label>
    <ol id="history">
    </ol>
</div>
<!--todo add better hovertext impl for status (e.g. to show really long planning output) with separate element rather than manipulating title attribute-->
<div id="status-update-container">
    <img src="../images/status_update_icon.webp" alt="status icon" id="status-icon">
    <div id="status">No status update available at the moment.</div>
</div>
<br>
<div id="pending-action-heading_container">
<img src="../images/proposed_action_icon.webp" alt="hopeful robot face with lightbulb to signify idea">
<label for="pending-action" id="pending-action-heading">Pending Action</label>
</div>
<div id="pending-action"></div>
<div id="monitor-mode-container">
    <div id="monitor-mode-heading">Monitor Mode</div>
    <label for="monitor-feedback"
           title="Hint- if you reject the proposed action after doing something to the page, please mention that thing in the feedback">Feedback
        to Agent</label>
    <textarea id="monitor-feedback" disabled>
    </textarea>

    <div class="buttons_row_container">
        <div class="icon_button_container">
            <img src="../images/monitor_approve_thumbs_up_icon.webp" alt="monitor approve button's icon" id="monitor-approve-icon">
            <button id="approve" disabled>Approve</button>
        </div>
        <div class="icon_button_container">
            <img src="../images/monitor_reject_thumbs_down_icon.webp" alt="monitor reject button's icon" id="monitor-reject-icon">
            <button id="reject" disabled>Reject</button>
        </div>
    </div>
</div>
<hr>
<div class="buttons_row_container">
    <div class="icon_button_container">
        <img src="../images/settings_gear_icon.webp" alt="options button's icon" id="open-options-icon">
        <button id="options">Options</button>
    </div>
    <div class="icon_button_container">
        <img src="../images/misc_logs_export_icon.webp" alt="logs export button's icon" id="export-unaffiliated-logs-icon">
        <button id="export-unaffiliated-logs"
                title="Most logs from this are the ones not affiliated with any task; however, some of the logs exported with this are some messages from the very beginning or the very end of each task">
            Download misc logs
        </button>
    </div>
</div>
<span id="status-details-tooltip"></span>
</body>
</html>